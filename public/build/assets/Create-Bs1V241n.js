import{a as p,u as f,r as j,j as e,H as y,L as c}from"./app-DmHEPWi5.js";import{A as N}from"./AuthenticatedLayout-BeN-Hvb4.js";function k({committeeTypes:x,levels:l}){const{auth:o}=p().props,d=o.user.role,a=d==="super_admin"||d.includes("state")?"state":d.includes("district")?"district":d.includes("tehsil")?"tehsil":"state",g=()=>{const t=o.user;return a==="tehsil"?t.tehsil_id||t.member?.tehsil_id:a==="district"?t.district_id||t.member?.district_id:1},{data:r,setData:i,post:b,processing:m,errors:s}=f({name:"",type:"executive",level:Object.keys(l)[0]||"state",entity_id:g(),min_members:5,max_members:15,quorum_percentage:50,voting_threshold:66.67,start_date:"",end_date:"",description:"",constitutional_basis:""});j.useEffect(()=>{const t=o.user;let n=1;a==="tehsil"?n=t.tehsil_id||t.member?.tehsil_id:a==="district"&&(n=t.district_id||t.member?.district_id),r.entity_id!==n&&i("entity_id",n)},[a,o.user]);const u=t=>{t.preventDefault(),b(route(`${a}.committees.store`))},h={executive:"Main decision-making body for general administration",election_commission:"Manages and oversees all electoral processes",disciplinary:"Handles member discipline and code violations",finance:"Manages budget, expenditures, and financial planning",audit:"Reviews financial reports and compliance",custom:"Special-purpose committee with defined objectives"};return e.jsxs(N,{children:[e.jsx(y,{title:"Create Committee"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(c,{href:route(`${a}.committees.index`),className:"inline-flex items-center text-sm font-bold text-blue-600 hover:text-blue-800 mb-4 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Committees"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold text-indigo-900",children:"Create Committee"}),e.jsx("p",{className:"mt-2 text-sm text-gray-800 font-medium",children:"Establish a new constitutional body for collective decision-making"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-bold text-indigo-800 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ“"})," Committee Details"]})}),e.jsxs("form",{onSubmit:u,className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:["Committee Type ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(x).map(([t,n])=>e.jsxs("button",{type:"button",onClick:()=>i("type",t),className:`p-4 border-2 rounded-lg text-left transition-all shadow-sm ${r.type===t?"border-indigo-600 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-300 bg-white hover:border-indigo-300 hover:bg-gray-50"}`,children:[e.jsx("div",{className:`font-bold ${r.type===t?"text-indigo-900":"text-gray-900"}`,children:n}),e.jsx("div",{className:"text-xs text-gray-600 mt-1 font-medium",children:h[t]})]},t))}),s.type&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.type})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Committee Name ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",value:r.name,onChange:t=>i("name",t.target.value),className:"w-full border-gray-400 rounded-lg shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 text-black bg-white placeholder-gray-500 font-medium",placeholder:"e.g., State Executive Committee",required:!0}),s.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.name})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:["Level ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(l).map(([t,n])=>e.jsx("button",{type:"button",onClick:()=>i("level",t),className:`p-3 border-2 rounded-lg font-bold capitalize transition-all shadow-sm ${r.level===t?"border-indigo-600 bg-indigo-50 text-indigo-900 ring-2 ring-indigo-200":"border-gray-300 bg-white hover:border-indigo-300 text-gray-800 hover:bg-gray-50"}`,children:n},t))}),s.level&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.level})]}),e.jsx("input",{type:"hidden",value:r.entity_id}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:t=>i("description",t.target.value),rows:"3",className:"w-full border-gray-400 rounded-lg shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 text-black bg-white placeholder-gray-500 font-medium",placeholder:"Brief description of the committee's purpose and responsibilities..."}),s.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Constitutional Basis"}),e.jsx("input",{type:"text",value:r.constitutional_basis,onChange:t=>i("constitutional_basis",t.target.value),className:"w-full border-gray-400 rounded-lg shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 text-black bg-white placeholder-gray-500 font-medium",placeholder:"e.g., As per Constitution Article 5.2, Section 3"}),s.constitutional_basis&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.constitutional_basis})]}),e.jsxs("div",{className:"mb-8 p-5 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-900 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ‘¥"})," Committee Size"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Minimum Members ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"number",value:r.min_members,onChange:t=>i("min_members",parseInt(t.target.value)),min:"3",max:"50",className:"w-full border-gray-400 rounded-lg shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 text-black bg-white font-medium",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-600 font-medium",children:"Must be at least 3"}),s.min_members&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.min_members})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Maximum Members ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"number",value:r.max_members,onChange:t=>i("max_members",parseInt(t.target.value)),min:"3",max:"50",className:"w-full border-gray-400 rounded-lg shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 text-black bg-white font-medium",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-600 font-medium",children:"Maximum 50 members"}),s.max_members&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.max_members})]})]})]}),e.jsxs("div",{className:"mb-8 p-5 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-900 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ—³ï¸"})," Voting Rules"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Quorum Percentage ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:r.quorum_percentage,onChange:t=>i("quorum_percentage",parseFloat(t.target.value)),min:"30",max:"100",step:"0.01",className:"w-full border-gray-400 rounded-lg shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 text-black bg-white font-medium",required:!0}),e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600 font-bold",children:"%"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-600 font-medium",children:"Minimum members required for meetings (30-100%)"}),s.quorum_percentage&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.quorum_percentage})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Voting Threshold ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:r.voting_threshold,onChange:t=>i("voting_threshold",parseFloat(t.target.value)),min:"50",max:"100",step:"0.01",className:"w-full border-gray-400 rounded-lg shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 text-black bg-white font-medium",required:!0}),e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600 font-bold",children:"%"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-600 font-medium",children:"Votes required to pass resolutions (50-100%)"}),s.voting_threshold&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.voting_threshold})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-indigo-100 border border-indigo-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-indigo-900",children:[e.jsx("strong",{children:"Example:"})," With 10 members, ",r.quorum_percentage,"% quorum = ",Math.ceil(10*r.quorum_percentage/100)," members required. If quorum met, ",r.voting_threshold,"% threshold = ",Math.ceil(10*r.voting_threshold/100)," votes needed to pass."]})})]}),e.jsxs("div",{className:"mb-8 p-5 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-900 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ“…"})," Committee Tenure"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:["Start Date ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"date",value:r.start_date,onChange:t=>i("start_date",t.target.value),className:"w-full border-gray-400 rounded-lg shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 text-black bg-white font-medium",required:!0}),s.start_date&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.start_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"End Date (Optional)"}),e.jsx("input",{type:"date",value:r.end_date,onChange:t=>i("end_date",t.target.value),className:"w-full border-gray-400 rounded-lg shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 text-black bg-white font-medium"}),e.jsx("p",{className:"mt-1 text-xs text-gray-600 font-medium",children:"Leave blank for indefinite tenure"}),s.end_date&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:s.end_date})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx(c,{href:route(`${a}.committees.index`),className:"px-6 py-2.5 border-2 border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors font-bold",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-8 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-800 disabled:opacity-50 transition-all font-bold shadow-lg transform hover:scale-105",children:m?"Creating...":"Create Committee"})]})]})]})]})})]})}export{k as default};
