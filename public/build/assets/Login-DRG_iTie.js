import{j as e,a as j,r as g,u as v,H as y,L as h}from"./app-Dagyf-nC.js";import{I as c}from"./InputError-ChAtSAYz.js";import{I as d}from"./InputLabel-Bl2tkDzh.js";import{P as N}from"./PrimaryButton-C02kGTHH.js";import{T as x}from"./TextInput-CqzYGMfC.js";import{G as w}from"./GuestLayout-Cmiud9Y9.js";function F({className:o="",...l}){return e.jsx("input",{...l,type:"checkbox",className:"rounded border-gray-300 text-red-600 shadow-sm focus:ring-red-500 "+o})}function T({status:o,canResetPassword:l}){const{flash:n}=j().props,[t,u]=g.useState(!1),{data:r,setData:a,post:p,processing:i,errors:m,reset:f}=v({email:"",password:"",otp:"",remember:!1});g.useEffect(()=>{n?.otp_required&&(u(!0),a("email",n.email||r.email))},[n]);const b=s=>{s.preventDefault(),t?p(route("otp.verify"),{onFinish:()=>f("otp")}):p(route("login"),{onSuccess:()=>{},onError:()=>f("password")})};return e.jsxs(w,{children:[e.jsx(y,{title:"Log in"}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-[#FF9933] to-[#138808] mb-2 font-serif",children:t?"Verify OTP":"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:t?"Enter the OTP sent to your email":"Sign in to access your union portal"})]}),o&&e.jsx("div",{className:"mb-6 p-4 rounded-lg bg-green-50 border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-green-700",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),o]})}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx(d,{htmlFor:"otp",value:"One Time Password (OTP)",className:"text-gray-700 font-bold mb-2"}),e.jsx(x,{id:"otp",type:"text",name:"otp",value:r.otp,className:"mt-1 block w-full text-base py-3 focus:ring-[#138808] focus:border-[#138808] tracking-widest text-center text-xl font-bold",autoComplete:"one-time-code",isFocused:!0,onChange:s=>a("otp",s.target.value),maxLength:6}),e.jsxs("p",{className:"mt-2 text-sm text-center text-gray-600",children:["Sending OTP to: ",e.jsx("span",{className:"font-bold",children:r.email})]}),e.jsx(c,{message:m.otp,className:"mt-2"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"email",value:"Email Address",className:"text-gray-700 font-bold mb-2"}),e.jsx(x,{id:"email",type:"email",name:"email",value:r.email,className:"mt-1 block w-full text-base py-3 focus:ring-[#138808] focus:border-[#138808]",autoComplete:"username",isFocused:!0,onChange:s=>a("email",s.target.value),icon:e.jsxs("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Use your registered email address"}),e.jsx(c,{message:m.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"password",value:"Password",className:"text-gray-700 font-bold mb-2"}),e.jsx(x,{id:"password",type:"password",name:"password",value:r.password,className:"mt-1 block w-full text-base py-3 focus:ring-[#138808] focus:border-[#138808]",autoComplete:"current-password",onChange:s=>a("password",s.target.value),icon:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),e.jsx(c,{message:m.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx(F,{name:"remember",checked:r.remember,onChange:s=>a("remember",s.target.checked),className:"text-[#138808] focus:ring-[#138808]"}),e.jsx("span",{className:"ms-2 text-sm text-gray-600 group-hover:text-[#138808] transition-colors font-medium",children:"Remember me"})]}),l&&e.jsx(h,{href:route("password.request"),className:"text-sm font-bold text-[#FF9933] hover:text-[#e08520] transition-colors",children:"Forgot password?"})]})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx(N,{className:"w-full justify-center py-3.5 text-base bg-gradient-to-r from-[#FF9933] via-[#ffffff] to-[#138808] hover:shadow-lg text-gray-800 font-bold border border-gray-200",disabled:i,processing:i,children:i?"Processing...":t?"Verify & Login":"Continue"}),t&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{type:"button",onClick:()=>u(!1),className:"text-sm text-gray-600 hover:text-[#138808] hover:underline",children:"Back to Login"})})]}),e.jsx("div",{className:"pt-4 text-center border-t border-gray-100",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Having trouble logging in?"," ",e.jsx(h,{href:"/contact",className:"font-bold text-[#138808] hover:underline transition-colors",children:"Contact Support"})]})})]})]})}export{T as default};
