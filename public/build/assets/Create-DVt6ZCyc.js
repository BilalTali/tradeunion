import{u as f,j as e,H as p,L as m}from"./app-B6I_m7Lk.js";import{A as j}from"./AuthenticatedLayout-CRyv6Qyz.js";function w({districts:u,tehsils:x,roleType:a,auth:n}){const o=n.user.role,d=o==="super_admin"?"state":o.includes("district")?"district":"tehsil",{data:l,setData:r,post:h,processing:c,errors:t}=f({name:"",email:"",phone:"",password:"",password_confirmation:"",admin_role:"",entity_id:""}),b=s=>{s.preventDefault(),h(route(`${d}.admins.store`),{onError:i=>{},onSuccess:()=>{}})},g=a==="district"?[{value:"district_admin",label:"District Admin"},{value:"district_president",label:"District President"}]:[{value:"tehsil_admin",label:"tehsil Admin"},{value:"tehsil_president",label:"tehsil President"}];return e.jsxs(j,{user:n.user,children:[e.jsx(p,{title:"Create Admin"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(m,{href:route(`${d}.admins.index`),className:"text-blue-600 hover:text-blue-800 mb-4 inline-block",children:"â† Back to Admins"}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Create ",a==="district"?"District":"Tehsil"," Admin"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Add a new administrator to the system"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",children:[Object.keys(t).length>0&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Please fix the following errors:"}),e.jsx("ul",{className:"list-disc list-inside text-red-600 text-sm",children:Object.entries(t).map(([s,i])=>e.jsx("li",{children:i},s))})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:l.name,onChange:s=>r("name",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0}),t.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:l.email,onChange:s=>r("email",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0}),t.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"text",value:l.phone,onChange:s=>{const i=s.target.value.replace(/\D/g,"").slice(0,10);r("phone",i)},className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",maxLength:10,pattern:"\\d{10}",title:"Please enter exactly 10 digits"}),t.phone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Photo"}),e.jsx("input",{type:"file",onChange:s=>r("photo",s.target.files[0]),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",accept:"image/*"}),t.photo&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.photo})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Role *"}),e.jsxs("select",{value:l.admin_role,onChange:s=>r("admin_role",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0,children:[e.jsx("option",{value:"",children:"Select Role..."}),g.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),t.admin_role&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.admin_role})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a==="district"?"District":"Tehsil"," *"]}),e.jsxs("select",{value:l.entity_id,onChange:s=>r("entity_id",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0,children:[e.jsxs("option",{value:"",children:["Select ",a==="district"?"District":"Tehsil","..."]}),a==="district"&&u?.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id)),a==="tehsil"&&x?.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),t.entity_id&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.entity_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsx("input",{type:"password",value:l.password,onChange:s=>r("password",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0}),t.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),e.jsx("input",{type:"password",value:l.password_confirmation,onChange:s=>r("password_confirmation",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx(m,{href:route(`${d}.admins.index`),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"px-8 py-3 bg-yellow-400 text-gray-900 rounded-lg hover:bg-yellow-500 disabled:opacity-50 transition-colors font-bold shadow-lg",children:c?"Creating...":"Create Admin"})]})]})]})]})})]})}export{w as default};
