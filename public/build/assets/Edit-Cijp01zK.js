import{a as N,u as _,j as e,H as w,L as x}from"./app-DnjC0X-L.js";import{A as S}from"./AuthenticatedLayout-C6iiLxKS.js";function C({election:s,hasECPortfolio:g,userLevel:c}){const{auth:m}=N().props,n=m.user.role,o=g&&c?`${c}.ec`:n==="super_admin"?"state":n.includes("district")&&!n.includes("member")?"district":n.includes("tehsil")&&!n.includes("member")?"tehsil":"member",d=t=>{if(!t)return"";const l=new Date(t),p=l.getFullYear(),f=String(l.getMonth()+1).padStart(2,"0"),j=String(l.getDate()).padStart(2,"0"),v=String(l.getHours()).padStart(2,"0"),y=String(l.getMinutes()).padStart(2,"0");return`${p}-${f}-${j}T${v}:${y}`},{data:r,setData:i,put:h,processing:u,errors:a}=_({title:s.title,description:s.description||"",nomination_start:d(s.nomination_start),nomination_end:d(s.nomination_end),voting_start:d(s.voting_start),voting_end:d(s.voting_end)}),b=t=>{t.preventDefault(),h(route(`${o}.elections.update`,s.id))};return e.jsxs(S,{user:m.user,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800",children:"Edit Election"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update election details and timeline"})]}),e.jsx(x,{href:route(`${o}.elections.show`,s.id),className:"text-gray-600 hover:text-gray-900",children:"â† Back to Election"})]}),children:[e.jsx(w,{title:`Edit ${s.title}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-xl rounded-xl",children:e.jsxs("form",{onSubmit:b,className:"p-8",children:[e.jsxs("div",{className:"mb-8 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Immutable Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Level:"}),e.jsx("span",{className:"ml-2 text-gray-900 capitalize",children:s.level})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Type:"}),e.jsx("span",{className:"ml-2 text-gray-900 capitalize",children:s.election_type.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Status:"}),e.jsx("span",{className:"ml-2 text-gray-900 capitalize",children:s.status.replace("_"," ")})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Election Title"}),e.jsx("input",{type:"text",value:r.title,onChange:t=>i("title",t.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",placeholder:"e.g., State President Election 2024",required:!0}),a.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.title})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:t=>i("description",t.target.value),rows:"4",className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",placeholder:"Describe the election..."}),a.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.description})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Election Timeline"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ðŸ—³ Nomination Start"}),e.jsx("input",{type:"datetime-local",value:r.nomination_start,onChange:t=>i("nomination_start",t.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0}),a.nomination_start&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.nomination_start})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ðŸ—³ Nomination End"}),e.jsx("input",{type:"datetime-local",value:r.nomination_end,onChange:t=>i("nomination_end",t.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0}),a.nomination_end&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.nomination_end})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"âœ… Voting Start"}),e.jsx("input",{type:"datetime-local",value:r.voting_start,onChange:t=>i("voting_start",t.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0}),a.voting_start&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.voting_start})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"âœ… Voting End"}),e.jsx("input",{type:"datetime-local",value:r.voting_end,onChange:t=>i("voting_end",t.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0}),a.voting_end&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.voting_end})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx(x,{href:route(`${o}.elections.show`,s.id),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium shadow-sm",children:u?"Saving...":"Save Changes"})]})]})})})})]})}export{C as default};
