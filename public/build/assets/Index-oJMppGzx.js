import{a as m,j as e,H as h,L as p,b as n}from"./app-BIZQ7C9f.js";import{A as j}from"./AuthenticatedLayout--UozTgA3.js";function b({election:a,candidates:l}){const{auth:d}=m().props,x=s=>{n.post(route("candidates.approve",s),{},{preserveScroll:!0})},c=s=>{confirm("Are you sure you want to reject this candidate?")&&n.post(route("candidates.reject",s),{},{preserveScroll:!0})},o=s=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",i=l.data?.reduce((s,r)=>{const t=r.position_title;return s[t]||(s[t]=[]),s[t].push(r),s},{})||{};return e.jsxs(j,{user:d.user,children:[e.jsx(h,{title:`Candidates - ${a.title}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(p,{href:route("elections.show",a.id),className:"text-red-600 hover:text-red-800 mb-4 inline-block",children:"â† Back to Election"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Candidates Management"}),e.jsx("p",{className:"mt-2 text-gray-600",children:a.title})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Candidates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.total||0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:l.data?.filter(s=>s.status==="pending").length||0}),e.jsx("p",{className:"text-sm text-yellow-600",children:"Pending"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-800",children:l.data?.filter(s=>s.status==="approved").length||0}),e.jsx("p",{className:"text-sm text-green-600",children:"Approved"})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-800",children:l.data?.filter(s=>s.status==="rejected").length||0}),e.jsx("p",{className:"text-sm text-red-600",children:"Rejected"})]})]}),Object.keys(i).length>0?e.jsx("div",{className:"space-y-8",children:Object.entries(i).map(([s,r])=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-amber-600 px-6 py-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:s}),e.jsxs("p",{className:"text-red-100 text-sm",children:[r.length," candidates"]})]}),e.jsx("div",{className:"divide-y",children:r.map(t=>e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-amber-500 rounded-full flex items-center justify-center text-white font-semibold",children:t.member?.name?.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.member?.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.member?.tehsil?.name,", ",t.member?.tehsil?.district?.name]}),t.vision_statement&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:t.vision_statement}),t.qualifications&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Qualifications:"})," ",t.qualifications]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${o(t.status)}`,children:t.status}),t.status==="pending"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>x(t.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Approve"}),e.jsx("button",{onClick:()=>c(t.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Reject"})]})]})]})},t.id))})]},s))}):e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("p",{className:"text-gray-500",children:"No candidates have submitted nominations yet."})]})]})})]})}export{b as default};
