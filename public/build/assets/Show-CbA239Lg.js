import{a as p,j as e,H as u,L as l,b}from"./app-BBa10Te9.js";import{A as j}from"./AuthenticatedLayout-DUa3a0R5.js";function y({election:t,canVote:o,hasVoted:a,voterType:c,isAdmin:m}){const{auth:x}=p().props,d=x.user?.role,r=d==="super_admin"?"state":d.includes("district")?"district":d.includes("tehsil")?"tehsil":"member",g=s=>({draft:"bg-gray-100 text-gray-800",nominations_open:"bg-blue-100 text-blue-800",nominations_closed:"bg-yellow-100 text-yellow-800",voting_open:"bg-green-100 text-green-800",voting_closed:"bg-orange-100 text-orange-800",completed:"bg-purple-100 text-purple-800"})[s]||"bg-gray-100 text-gray-800",h=s=>s.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),i=s=>{confirm({"open-nominations":"Open nominations for this committee election?","close-nominations":"Close nominations? No more candidates can file after this.","open-voting":"Open voting for this committee election?","close-voting":"Close voting? No more votes can be cast after this.",complete:"Mark this committee election as completed?"}[s])&&b.post(route(`${r}.committee-elections.${s}`,t.id))};return e.jsxs(j,{children:[e.jsx(u,{title:t.title}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600",children:t.description||"No description provided"})]}),e.jsx("span",{className:`px-4 py-2 rounded-lg font-semibold ${g(t.status)}`,children:h(t.status)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Committee"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.committee?.name||"N/A"}),e.jsx("p",{className:"text-sm text-gray-500",children:t.committee?.level?`${t.committee.level.charAt(0).toUpperCase()+t.committee.level.slice(1)} Level`:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Election Type"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.election_type.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Eligible Voters"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.eligible_voters_count||0})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-sm border border-blue-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:"Who Can Vote?"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{className:"font-medium",children:["Active Committee Members (",t.committee?.active_members_count||0,")"]})]}),t.allow_portfolio_holders&&e.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{className:"font-medium",children:["Portfolio Holders",t.allowed_portfolio_ids?.length>0&&` (${t.allowed_portfolio_ids.length} specific portfolios)`,t.restrict_to_same_level&&" (Same level only)"]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:e.jsxs("p",{className:"text-blue-900 font-bold",children:["Total Eligible: ",t.eligible_voters_count]})})]})]}),o!==void 0&&e.jsx("div",{className:`rounded-lg shadow-sm border p-6 mb-6 ${o?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:o?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-800 mb-2",children:[e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("h3",{className:"text-lg font-bold",children:"You are eligible to vote!"})]}),e.jsxs("p",{className:"text-green-700",children:["Voting as: ",e.jsx("strong",{children:c==="committee_member"?"Committee Member":"Portfolio Holder"})]}),a&&e.jsx("p",{className:"mt-2 text-green-600 text-sm",children:"âœ“ You have already voted in this election"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 mb-2",children:[e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("h3",{className:"text-lg font-bold",children:"You are not eligible to vote"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"You must be either a committee member or an authorized portfolio holder."})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Election Timeline"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"ðŸ“ Nomination Period"}),e.jsx("p",{className:"text-gray-900",children:new Date(t.nomination_start).toLocaleString("en-IN")}),e.jsx("p",{className:"text-gray-500 text-sm",children:"to"}),e.jsx("p",{className:"text-gray-900",children:new Date(t.nomination_end).toLocaleString("en-IN")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"ðŸ—³ï¸ Voting Period"}),e.jsx("p",{className:"text-gray-900",children:new Date(t.voting_start).toLocaleString("en-IN")}),e.jsx("p",{className:"text-gray-500 text-sm",children:"to"}),e.jsx("p",{className:"text-gray-900",children:new Date(t.voting_end).toLocaleString("en-IN")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[o&&t.status==="nominations_open"&&!a&&e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 rounded-r-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:"Nominations Are Open!"}),e.jsx("p",{className:"text-blue-700 mb-4",children:"File your nomination for this committee election"}),e.jsx(l,{href:route("committee-elections.nominate.form",t.id),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold transition",children:"File Nomination"})]}),o&&t.status==="voting_open"&&!a&&e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-600 p-6 rounded-r-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-green-900 mb-2",children:"Voting Is Open!"}),e.jsx("p",{className:"text-green-700 mb-4",children:"Cast your vote in this committee election"}),e.jsx(l,{href:route("committee-elections.vote.show",t.id),className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold transition",children:"Cast Your Vote"})]}),m&&e.jsxs("div",{className:"bg-purple-50 rounded-lg shadow-sm border border-purple-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-2xl",children:"âš™ï¸"}),e.jsx("h3",{className:"text-lg font-bold text-purple-900",children:"Admin Actions"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.status==="draft"&&e.jsx("button",{onClick:()=>i("open-nominations"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Open Nominations"}),t.status==="nominations_open"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{href:route(`${r}.committee-candidates.pending`,t.id),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:"Review Nominations"}),e.jsx("button",{onClick:()=>i("close-nominations"),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 font-medium",children:"Close Nominations"})]}),t.status==="nominations_closed"&&e.jsx("button",{onClick:()=>i("open-voting"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"Open Voting"}),t.status==="voting_open"&&e.jsx("button",{onClick:()=>i("close-voting"),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium",children:"Close Voting"}),t.status==="voting_closed"&&e.jsx("button",{onClick:()=>i("complete"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:"Complete Election"}),t.status!=="completed"&&e.jsx(l,{href:route(`${r}.committee-elections.edit`,t.id),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Edit Details"}),t.status==="completed"&&e.jsx(l,{href:route(`${r}.committee-elections.results`,t.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"View Results"})]})]}),t.status==="completed"&&!m&&e.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-600 p-6 rounded-r-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-purple-900 mb-2",children:"Results Available"}),e.jsx("p",{className:"text-purple-700 mb-4",children:"View the final committee election results"}),e.jsx(l,{href:route(`${r}.committee-elections.results`,t.id),className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold transition",children:"ViewResults"})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(l,{href:route("committee-elections.show",t.id)||route(`${r}.committee-elections.index`),className:"inline-flex items-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-semibold transition",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Elections"]})})]})})]})}export{y as default};
