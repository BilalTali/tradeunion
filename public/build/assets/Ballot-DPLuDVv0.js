import{r as b,u as v,a as g,j as e,H as f}from"./app-yoPYq-eA.js";import{A as N}from"./AuthenticatedLayout-B434L8aX.js";function z({election:n,candidates:c,member:m}){const[a,x]=b.useState({}),{data:y,setData:w,post:h,processing:o}=v({votes:[]}),d=c.reduce((s,l)=>(s[l.position_title]||(s[l.position_title]=[]),s[l.position_title].push(l),s),{}),u=(s,l)=>{x(t=>({...t,[s]:l}))},j=s=>{s.preventDefault();const l=Object.values(a);h(route("elections.vote",n.id),{data:{votes:l}})},r=Object.keys(a).length,i=Object.keys(d).length,{auth:p}=g().props;return e.jsxs(N,{user:p.user,children:[e.jsx(f,{title:`Vote - ${n.title}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-700 rounded-2xl shadow-xl p-8 mb-8 text-white",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"ðŸ—³ï¸ Cast Your Ballot"}),e.jsx("p",{className:"mt-2 text-green-100",children:n.title}),e.jsxs("div",{className:"mt-4 flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})}),e.jsx("span",{children:m.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsxs("span",{children:[r," of ",i," selected"]})]})]})]}),e.jsxs("form",{onSubmit:j,children:[e.jsx("div",{className:"space-y-8",children:Object.entries(d).map(([s,l])=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsxs("div",{className:"bg-blue-50 px-6 py-4 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Select one candidate"})]}),e.jsx("div",{className:"p-6 space-y-4",children:l.map(t=>e.jsx("label",{className:`block cursor-pointer transition-all duration-200 ${a[s]===t.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"} rounded-lg border-2 border-gray-200 p-4`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"radio",name:s,value:t.id,checked:a[s]===t.id,onChange:()=>u(s,t.id),className:"mt-1 h-5 w-5 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.member.name}),a[s]===t.id&&e.jsx("span",{className:"ml-2 text-blue-600 font-medium",children:"âœ“ Selected"})]}),t.member.designation&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.member.designation}),t.vision_statement&&e.jsx("p",{className:"text-sm text-gray-700 mt-3",children:t.vision_statement}),t.qualifications&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"Qualifications"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.qualifications})]})]})]})},t.id))})]},s))}),e.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["You have selected ",r," out of ",i," positions"]}),r<i&&e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"âš ï¸ Please select a candidate for all positions"})]}),e.jsx("button",{type:"submit",disabled:o||r<i,className:"bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-8 py-3 rounded-lg font-medium transition-colors shadow-lg",children:o?"Submitting...":"Submit Ballot ðŸ—³ï¸"})]})}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Secure Voting"}),e.jsx("p",{className:"mt-1",children:"Your vote is encrypted and anonymous. You can only vote once per election."})]})]})})]})]})})]})}export{z as default};
