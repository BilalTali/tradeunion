import{u as v,r as j,j as e,H as p}from"./app-DdS2l4Qh.js";import{A as f}from"./AuthenticatedLayout-5ziU1Pur.js";import{I as i}from"./InputError-CHYoGXVf.js";import{I as a}from"./InputLabel-DHQuFrzC.js";import{P as y}from"./PrimaryButton-DlLWmjDY.js";import{T as d}from"./TextInput-DSl3iY0l.js";function D({auth:u,user:c}){const{data:t,setData:r,post:g,processing:n,errors:l}=v({category:"",subject:"",message:"",incident_date:"",grievance_level:"",attachment:null,is_declaration_accepted:!1}),[m,x]=j.useState(0),h=["Service Matter","Transfer / Posting","Pay / Allowances","Promotion / Seniority","Disciplinary Action","Welfare / Benefits","Other"],o=["Pay / Allowances","Promotion / Seniority","Disciplinary Action"].includes(t.category),b=s=>{s.preventDefault(),g(route("grievances.store"))};return e.jsxs(f,{user:u.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Submit New Grievance"}),children:[e.jsx(p,{title:"Submit Grievance"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:b,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 border-b pb-2 mb-4",children:"1. Member Identification"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(a,{value:"Member Name"}),e.jsx(d,{value:c.name,className:"mt-1 block w-full bg-gray-50",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(a,{value:"Member ID"}),e.jsx(d,{value:c.member?.membership_id||"N/A",className:"mt-1 block w-full bg-gray-50",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(a,{value:"Designation"}),e.jsx(d,{value:c.member?.designation||"N/A",className:"mt-1 block w-full bg-gray-50",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(a,{value:"Current Place of Posting"}),e.jsx(d,{value:c.member?.place_of_posting||"N/A",className:"mt-1 block w-full bg-gray-50",disabled:!0})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 border-b pb-2 mb-4",children:"2. Grievance Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"category",value:"Grievance Category *"}),e.jsxs("select",{id:"category",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:t.category,onChange:s=>r("category",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),h.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx(i,{message:l.category,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"incident_date",value:"Date of Incident / Cause *"}),e.jsx(d,{id:"incident_date",type:"date",className:"mt-1 block w-full",value:t.incident_date,onChange:s=>r("incident_date",s.target.value),required:!0}),e.jsx(i,{message:l.incident_date,className:"mt-2"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(a,{htmlFor:"subject",value:"Subject / Title (Max 150 chars) *"}),e.jsx(d,{id:"subject",className:"mt-1 block w-full",value:t.subject,onChange:s=>r("subject",s.target.value),maxLength:150,required:!0}),e.jsx(i,{message:l.subject,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"message",value:"Detailed Description (Min 100 chars) *"}),e.jsx("textarea",{id:"message",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm h-40",value:t.message,onChange:s=>{r("message",s.target.value),x(s.target.value.length)},required:!0}),e.jsxs("div",{className:`text-xs mt-1 text-right ${m<100?"text-red-500":"text-green-600"}`,children:[m," / 100 minimum characters"]}),e.jsx(i,{message:l.message,className:"mt-2"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 border-b pb-2 mb-4",children:"3. Jurisdiction & Routing"}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(a,{htmlFor:"grievance_level",value:"Grievance Level *"}),e.jsxs("select",{id:"grievance_level",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:t.grievance_level,onChange:s=>r("grievance_level",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Level"}),e.jsx("option",{value:"tehsil",children:"Tehsil Level"}),e.jsx("option",{value:"district",children:"District Level"}),e.jsx("option",{value:"state",children:"State Level"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This determines which authority will handle your grievance."}),e.jsx(i,{message:l.grievance_level,className:"mt-2"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 border-b pb-2 mb-4",children:"4. Supporting Evidence"}),o&&e.jsx("div",{className:"mb-4 bg-yellow-50 p-4 rounded-md border border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800 font-medium",children:["Note: For ",t.category,", supporting documents are ",e.jsx("strong",{children:"MANDATORY"}),"."]})}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"attachment",value:`Supporting Document ${o?"(Required)":"(Optional)"}`}),e.jsx("input",{type:"file",id:"attachment",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",onChange:s=>r("attachment",s.target.files[0]),accept:".pdf,.jpg,.jpeg,.png",required:o}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max 2MB. formats: PDF, JPG, PNG."}),e.jsx(i,{message:l.attachment,className:"mt-2"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 border-b pb-2 mb-4",children:"5. Declaration"}),e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 mt-1",checked:t.is_declaration_accepted,onChange:s=>r("is_declaration_accepted",s.target.checked),required:!0}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I hereby declare that the information provided above is true and correct to the best of my knowledge. I understand that submitting false information may attract disciplinary action."})]}),e.jsx(i,{message:l.is_declaration_accepted,className:"mt-2"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(y,{disabled:n,className:"px-8 py-3 text-lg",children:n?"Submitting...":"Submit Grievance"})})]})})})]})}export{D as default};
