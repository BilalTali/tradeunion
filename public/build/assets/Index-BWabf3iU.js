import{a as f,r as u,j as e,H as y,L as i,b as g}from"./app-DaJTlCiW.js";import{A as N}from"./AuthenticatedLayout-Dn4O5J7o.js";function S({posts:r,filters:c}){const{auth:o}=f().props,[h,m]=u.useState(c?.status||"all"),[n,p]=u.useState(c?.category||"all"),s=(()=>{const t=o.user?.role||"";return t==="super_admin"?"state":t.includes("district")?"district":t.includes("tehsil")?"tehsil":"state"})(),x=(t,a)=>{const d={...c};t==="status"?(m(a),d.status=a):(p(a),d.category=a),g.get(route(`${s}.blog.index`),d,{preserveState:!0})},b={draft:"bg-yellow-100 text-yellow-800",published:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800"},j={circular:"bg-blue-100 text-blue-800",statement:"bg-purple-100 text-purple-800",notice:"bg-red-100 text-red-800",article:"bg-indigo-100 text-indigo-800",event:"bg-pink-100 text-pink-800"},v=t=>{confirm("Are you sure you want to delete this blog post?")&&g.delete(route(`${s}.blog.destroy`,t))},l={event:{title:"ðŸ“… Events",description:"Manage upcoming and past events."},notice:{title:"ðŸ“¢ Announcements",description:"Manage important announcements and notices."},circular:{title:"â­• Circulars",description:"Official circulars and memos."},statement:{title:"ðŸ—£ï¸ Statements",description:"Press statements and releases."},article:{title:"ðŸ“° Articles",description:"General news and articles."}}[n]||{title:"ðŸ“ Blog Posts",description:"Manage circulars, statements, notices, and articles."};return e.jsxs(N,{user:o.user,header:l.title,children:[e.jsx(y,{title:l.title.replace(/^[^\s]+\s/,"")}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:l.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:l.description})]}),e.jsxs(i,{href:route(`${s}.blog.create`,n!=="all"?{category:n}:{}),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium shadow-lg flex items-center gap-2",children:[e.jsx("span",{children:"+"}),e.jsxs("span",{children:["New ",l.title.replace(/[\u{1F300}-\u{1F6FF}\s]/gu,"").replace(/s$/,"")]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6 flex flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:h,onChange:t=>x("status",t.target.value),className:"border-gray-300 rounded-lg",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:n,onChange:t=>x("category",t.target.value),className:"border-gray-300 rounded-lg",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"circular",children:"Circular"}),e.jsx("option",{value:"statement",children:"Statement"}),e.jsx("option",{value:"notice",children:"Notice"}),e.jsx("option",{value:"article",children:"Article"}),e.jsx("option",{value:"event",children:"Event"})]})]})]}),r.data?.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.data.map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition",children:[t.featured_image&&e.jsx("img",{src:`/storage/${t.featured_image}`,alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${b[t.status]}`,children:t.status}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${j[t.category]}`,children:t.category})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:t.title}),t.excerpt&&e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.excerpt}),e.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["By ",t.author?.name||"Unknown"," â€¢ ",t.publish_date?new Date(t.publish_date).toLocaleDateString():"Not published"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{href:route(`${s}.blog.show`,t.id),className:"text-blue-600 hover:text-blue-800 text-sm",children:"View"}),e.jsx(i,{href:route(`${s}.blog.edit`,t.id),className:"text-green-600 hover:text-green-800 text-sm",children:"Edit"}),e.jsx("button",{onClick:()=>v(t.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]},t.id))}):e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No blog posts yet."}),e.jsx(i,{href:route(`${s}.blog.create`),className:"text-red-600 hover:text-red-800",children:"Create your first post â†’"})]}),r.links&&r.data?.length>0&&e.jsx("div",{className:"mt-6 flex justify-center gap-2",children:r.links.map((t,a)=>e.jsx(i,{href:t.url||"#",className:`px-4 py-2 rounded-lg ${t.active?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"} ${t.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},a))})]})})]})}export{S as default};
