import{r as g,j as e,H as L,u as j}from"./app-R9sS8T_F.js";import{A as O}from"./AuthenticatedLayout-D3a7YhBg.js";import{I as p}from"./InputLabel-DNSmtw0K.js";import{T as h}from"./TextInput-pOeT_17g.js";import{P as k}from"./PrimaryButton-CY5eiZIq.js";import{D as F}from"./DangerButton-DDCGQNaL.js";const w=g.forwardRef(function({className:i="",isFocused:s=!1,...c},l){const r=g.useRef(null);return g.useImperativeHandle(l,()=>({focus:()=>r.current?.focus()})),g.useEffect(()=>{s&&r.current?.focus()},[s]),e.jsx("textarea",{...c,className:"rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 "+i,ref:r})});function Q({auth:a,officeProfile:i,heroSlides:s,contents:c}){const[l,r]=g.useState("global");return e.jsxs(O,{user:a.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Homepage Manager (CMS)"}),children:[e.jsx(L,{title:"Homepage Manager"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex",children:[e.jsx(_,{active:l==="global",onClick:()=>r("global"),icon:"ðŸŽ¨",label:"Theme & Identity"}),e.jsx(_,{active:l==="slider",onClick:()=>r("slider"),icon:"ðŸ–¼ï¸",label:"Hero Slider"}),e.jsx(_,{active:l==="sections",onClick:()=>r("sections"),icon:"ðŸ“",label:"Content Sections"})]})})}),e.jsxs("div",{className:"space-y-6",children:[l==="global"&&e.jsx(E,{profile:i}),l==="slider"&&e.jsx(M,{slides:s}),l==="sections"&&e.jsx(P,{contents:c})]})]})})]})}function _({active:a,onClick:i,icon:s,label:c}){return e.jsxs("button",{onClick:i,className:`
                w-1/3 py-4 px-1 text-center border-b-2 font-medium text-sm transition-colors duration-200
                ${a?"border-union-primary text-union-primary bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:[e.jsx("span",{className:"mr-2",children:s}),c]})}function E({profile:a}){const{data:i,setData:s,put:c,processing:l,errors:r,recentlySuccessful:d}=j({primary_color:a?.primary_color||"#dc2626",secondary_color:a?.secondary_color||"#1e40af",font_family:a?.font_family||"sans-serif"}),u=n=>{n.preventDefault(),c(route("state.homepage.theme-update"))};return e.jsxs("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-6 border-b pb-2",children:"Theme Configuration"}),e.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"primary_color",value:"Primary Color (Buttons, Highlights)"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("input",{type:"color",id:"primary_color",value:i.primary_color,onChange:n=>s("primary_color",n.target.value),className:"h-10 w-20 p-1 border rounded"}),e.jsx(h,{value:i.primary_color,onChange:n=>s("primary_color",n.target.value),className:"w-full"})]}),r.primary_color&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.primary_color})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"secondary_color",value:"Secondary Color (Accents, Footer)"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("input",{type:"color",id:"secondary_color",value:i.secondary_color,onChange:n=>s("secondary_color",n.target.value),className:"h-10 w-20 p-1 border rounded"}),e.jsx(h,{value:i.secondary_color,onChange:n=>s("secondary_color",n.target.value),className:"w-full"})]}),r.secondary_color&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.secondary_color})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(p,{htmlFor:"font_family",value:"Font Family (CSS Name)"}),e.jsxs("select",{id:"font_family",value:i.font_family,onChange:n=>s("font_family",n.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"sans-serif",children:"System Sans-Serif (Default)"}),e.jsx("option",{value:"'Inter', sans-serif",children:"Inter"}),e.jsx("option",{value:"'Roboto', sans-serif",children:"Roboto"}),e.jsx("option",{value:"'Open Sans', sans-serif",children:"Open Sans"}),e.jsx("option",{value:"serif",children:"System Serif"})]})]}),e.jsxs("div",{className:"md:col-span-2 flex items-center gap-4",children:[e.jsx(k,{disabled:l,children:"Save Theme Settings"}),d&&e.jsx("span",{className:"text-green-600 font-bold",children:"Saved!"})]})]}),e.jsxs("div",{className:"mt-10 pt-6 border-t",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Organization Identity"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"To update your Organization Name, Logo, Address, and Contact Details, please manage the Office Profile settings."}),e.jsx("a",{href:route("state.office-profile.edit"),className:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700",children:"Manage Office Profile"})]})]})}function M({slides:a}){const{data:i,setData:s,post:c,processing:l,errors:r,reset:d,recentlySuccessful:u}=j({image:null,images:[],title:"",subtitle:"",button_text:"Learn More",button_link:"/contact"}),n=o=>{o.preventDefault(),c(route("state.homepage.slides.store"),{onSuccess:()=>d()})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Add New Slide(s)"}),e.jsxs("form",{onSubmit:n,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"slide_image",value:"Slide Image(s) (Landscape)"}),e.jsx("input",{type:"file",multiple:!0,id:"slide_image",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:o=>s("images",Array.from(o.target.files)),accept:"image/*",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can select multiple images to upload at once."}),r.image&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.image})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{value:"Headline (Applied to all uploaded slides)"}),e.jsx(h,{value:i.title,onChange:o=>s("title",o.target.value),className:"w-full",placeholder:"Empowering Employees..."})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Subtitle (Applied to all)"}),e.jsx(h,{value:i.subtitle,onChange:o=>s("subtitle",o.target.value),className:"w-full",placeholder:"Join the movement..."})]})]}),e.jsx("div",{className:"md:col-span-2 flex justify-end",children:e.jsx(k,{disabled:l,className:"w-full md:w-auto justify-center",children:"Upload Slide(s)"})})]})]}),e.jsxs("div",{className:"bg-white shadow sm:rounded-lg overflow-hidden",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 p-6 border-b",children:"Active Slides"}),a.length===0?e.jsx("p",{className:"p-6 text-center text-gray-500",children:"No slides uploaded yet."}):e.jsx("div",{className:"divide-y divide-gray-200",children:a.map(o=>e.jsx(R,{slide:o},o.id))})]})]})}function R({slide:a}){const{delete:i,processing:s}=j(),c=()=>{confirm("Are you sure you want to delete this slide?")&&i(route("state.homepage.slides.destroy",a.id))};return e.jsxs("div",{className:"p-6 flex items-center gap-6 group hover:bg-gray-50 transition",children:[e.jsx("div",{className:"w-48 h-28 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:`/storage/${a.image_path}`,alt:"Slide",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900",children:a.title||"(No Title)"}),e.jsx("p",{className:"text-sm text-gray-500",children:a.subtitle}),e.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Button: ",a.button_text||"Default"," â†’ ",a.button_link||"#"]})]}),e.jsx("div",{children:e.jsx(F,{onClick:c,disabled:s,className:"opacity-0 group-hover:opacity-100 transition-opacity",children:"Delete"})})]})}const U={mission_cards:{type:"list",fields:[{key:"icon",label:"Icon (Emoji or Class)",type:"text"},{key:"title",label:"Title",type:"text"},{key:"description",label:"Description",type:"textarea"}]},structure:{type:"list",fields:[{key:"level",label:"Level Name",type:"text"},{key:"description",label:"Role Description",type:"textarea"}]},footer_global:{type:"object",fields:[{key:"about_text",label:"About Text (Footer Column 1)",type:"textarea"},{key:"copyright_text",label:"Copyright Line",type:"text"},{key:"facebook_url",label:"Facebook URL",type:"text"},{key:"twitter_url",label:"Twitter URL",type:"text"},{key:"instagram_url",label:"Instagram URL",type:"text"},{key:"youtube_url",label:"YouTube URL",type:"text"},{key:"linkedin_url",label:"LinkedIn URL",type:"text"},{key:"useful_links",label:'Useful Links (Format: "Label | URL" - one per line)',type:"textarea",placeholder:`About Us | /about
Contact | /contact`},{key:"developed_by",label:"Developed By (Name)",type:"text"},{key:"developed_by_url",label:"Developed By (Link/Contact)",type:"text"}]},journey:{type:"list",fields:[{key:"step",label:"Step #",type:"text"},{key:"title",label:"Step Title",type:"text"},{key:"description",label:"Description",type:"textarea"}]},features:{type:"list",fields:[{key:"icon",label:"Icon",type:"text"},{key:"title",label:"Feature Title",type:"text"},{key:"description",label:"Feature Description",type:"textarea"}]},about:{type:"text"},contact_intro:{type:"text"},privacy_policy:{type:"list",fields:[{key:"title",label:"Section Title",type:"text"},{key:"content",label:"Section Content",type:"textarea"}]},terms_of_service:{type:"list",fields:[{key:"title",label:"Section Title",type:"text"},{key:"content",label:"Section Content",type:"textarea"}]},voice_of_unity:{type:"list",fields:[{key:"placeholder_title",label:"Subtitle (Content Exists)",type:"text"},{key:"empty_message",label:"Message (No Content)",type:"text"},{key:"button_text",label:"Button Text",type:"text"},{key:"auth_note",label:"Auth Requirement Note",type:"text"}]},latest_updates:{type:"list",fields:[{key:"title",label:"Update Message",type:"text"}]},portal_launch:{type:"list",has_image:!0,fields:[{key:"chief_guest_name",label:"Chief Guest Name",type:"text"},{key:"guest_designation",label:"Guest Designation",type:"text"},{key:"launch_message",label:"Launch Success Message",type:"text"},{key:"button_text",label:"Launch Button Text",type:"text"},{key:"is_active",label:"Is Active? (true/false)",type:"text"}]}};function P({contents:a}){const i=["portal_launch","latest_updates","voice_of_unity","contact_intro","about","mission_cards","structure","journey","features","privacy_policy","terms_of_service","footer_global"],s={portal_launch:"ðŸš€ Portal Launch / Grand Opening",footer_global:"Website Footer (Bottom)",latest_updates:"Latest Updates (Ticker)",voice_of_unity:"Voice of Unity (Feedback/Grievance)",contact_intro:"Contact Page Intro",mission_cards:"Mission & Key Pillars (What We Do)",about:"About The Association",structure:"Organizational Structure",journey:"Membership Journey",features:"Digital Features",privacy_policy:"Privacy Policy",terms_of_service:"Terms of Service"};return e.jsx("div",{className:"space-y-6",children:i.map(c=>{const l=a[c];return l?e.jsx(B,{contentKey:c,label:s[c],content:l},c):null})})}function B({contentKey:a,label:i,content:s}){const[c,l]=g.useState(!1),r=U[a]||{type:"text"},d=s.content,u=t=>{try{return typeof t=="string"?JSON.parse(t):t}catch{return null}},n=t=>{try{let m=[];if(typeof t=="string")if(t.trim().startsWith("["))m=JSON.parse(t);else return t;else if(Array.isArray(t))m=t;else return"";return m.map(v=>`${v.label} | ${v.url}`).join(`
`)}catch{return t}},o=r.type==="list",f=r.type==="object",[b,N]=g.useState(()=>{if(!o&&!f)return"raw";const t=u(d);return o&&Array.isArray(t)||f&&t&&typeof t=="object"&&!Array.isArray(t)?"visual":"raw"}),S=t=>{let m=(o||f)&&b==="visual"?u(t)||(o?[]:{}):t;if(a==="footer_global"&&m?.useful_links){const v=n(m.useful_links);m={...m,useful_links:v}}return m},{data:y,setData:x,post:C,processing:A,errors:G,recentlySuccessful:T}=j({title:s.title||"",subtitle:s.subtitle||"",content:S(d),settings:s.settings||{bg_color:"#111827"},image:null});g.useEffect(()=>{x(t=>({...t,title:s.title||"",subtitle:s.subtitle||"",content:S(s.content),settings:s.settings||t.settings||{bg_color:"#111827"}}))},[s]),g.useEffect(()=>{const t=u(d);(o&&Array.isArray(t)||f&&t&&typeof t=="object")&&x("content",t)},[]);const I=()=>{if(b==="visual")x(t=>({...t,content:JSON.stringify(t.content,null,4)})),N("raw");else{const t=u(y.content);o&&Array.isArray(t)?(x(m=>({...m,content:t})),N("visual")):f&&t&&typeof t=="object"?(x(m=>({...m,content:t})),N("visual")):alert("Current content is not valid JSON for this schema. Cannot switch to Visual Editor.")}},D=t=>{t.preventDefault(),C(route("state.homepage.content-update",a),{preserveScroll:!0,forceFormData:!0})};return e.jsxs("div",{className:"bg-white shadow sm:rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>l(!c),className:"w-full flex justify-between items-center px-6 py-4 bg-gray-50 hover:bg-gray-100 transition",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-bold text-lg text-gray-800",children:i}),e.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["(",a,")"]})]}),e.jsx("span",{className:"text-gray-500",children:c?"â–¼":"â–¶"})]}),c&&e.jsx("div",{className:"p-6 border-t border-gray-100",children:e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(p,{value:"Section Title"}),e.jsx(h,{className:"w-full mt-1",value:y.title,onChange:t=>x("title",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Section Subtitle"}),e.jsx(h,{className:"w-full mt-1",value:y.subtitle,onChange:t=>x("subtitle",t.target.value)})]}),r.has_image&&e.jsxs("div",{className:"md:col-span-2 border-t pt-4",children:[e.jsx(p,{value:"Feature Image / Chief Guest Photo"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.image_path&&e.jsx("img",{src:`/storage/${s.image_path}`,alt:"Current",className:"h-16 w-16 object-cover rounded shadow"}),e.jsx("input",{type:"file",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:t=>x("image",t.target.files[0]),accept:"image/*"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Upload a new image to replace the current one."})]})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Background Color"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("input",{type:"color",value:y.settings?.bg_color||"#ffffff",onChange:t=>x("settings",{...y.settings,bg_color:t.target.value}),className:"h-10 w-20 p-1 border rounded"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Pick a background color for this section strip."})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx(p,{value:b==="visual"?o?"List Items":"Details":"Content Text / JSON"}),(o||f)&&e.jsx("button",{type:"button",onClick:I,className:"text-xs text-indigo-600 hover:text-indigo-800 underline",children:b==="visual"?"Switch to Raw (Text/JSON)":"Switch to Visual Editor"})]}),b==="visual"?o?e.jsx(J,{items:Array.isArray(y.content)?y.content:[],onChange:t=>x("content",t),fields:r.fields}):e.jsx(H,{data:y.content||{},onChange:t=>x("content",t),fields:r.fields}):e.jsx(w,{className:"w-full h-32 font-mono text-sm",value:typeof y.content=="string"?y.content:JSON.stringify(y.content,null,4),onChange:t=>x("content",t.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(k,{disabled:A,children:"Save Changes"}),T&&e.jsx("span",{className:"text-green-600 font-bold self-center",children:"Saved!"})]})]})})]})}function J({items:a,onChange:i,fields:s}){const c=()=>{const d={};s.forEach(u=>d[u.key]=""),i([...a,d])},l=d=>{const u=[...a];u.splice(d,1),i(u)},r=(d,u,n)=>{const o=[...a];o[d]={...o[d],[u]:n},i(o)};return e.jsxs("div",{className:"space-y-4",children:[a.map((d,u)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 relative group",children:[e.jsx("button",{type:"button",onClick:()=>l(u),className:"absolute top-2 right-2 text-red-500 hover:text-red-700 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove Item",children:"âœ•"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(n=>e.jsxs("div",{className:n.type==="textarea"?"md:col-span-2":"",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:n.label}),n.type==="textarea"?e.jsx(w,{className:"w-full text-sm",value:d[n.key]||"",onChange:o=>r(u,n.key,o.target.value),rows:"2"}):e.jsx(h,{className:"w-full text-sm",value:d[n.key]||"",onChange:o=>r(u,n.key,o.target.value)})]},n.key))})]},u)),e.jsx("button",{type:"button",onClick:c,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-gray-400 hover:text-gray-600 font-bold transition-colors",children:"+ Add New Item"})]})}function H({data:a,onChange:i,fields:s}){const c=(l,r)=>{const d={...a,[l]:r};i(d)};return e.jsx("div",{className:"grid grid-cols-1 gap-6 p-4 bg-gray-50 border rounded-lg",children:s.map(l=>e.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(p,{value:l.label}),e.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["(",l.key,")"]})]}),l.type==="textarea"?e.jsx(w,{className:"w-full h-24",value:a[l.key]||"",onChange:r=>c(l.key,r.target.value),placeholder:l.placeholder||""}):e.jsx(h,{className:"w-full",value:a[l.key]||"",onChange:r=>c(l.key,r.target.value),placeholder:l.placeholder||""})]},l.key))})}export{Q as default};
