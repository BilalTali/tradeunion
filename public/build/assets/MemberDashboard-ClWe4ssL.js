import{r as x,j as e,H as h,L as r}from"./app-XCtiZVKQ.js";import{A as m}from"./AuthenticatedLayout-CTGkoCvp.js";function b({auth:o,member:t,announcements:l,blogs:i,activeElections:d}){const a=o.user,[c,n]=x.useState(!1);return e.jsxs(m,{user:a,header:e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-2xl text-gray-800",children:"Member Dashboard"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Welcome, ",a.name]})]}),children:[e.jsx(h,{title:"Member Dashboard"}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md text-center",children:[e.jsxs("div",{className:"w-full h-64 bg-gray-900 rounded-lg mb-4 flex items-center justify-center relative overflow-hidden",children:[e.jsx("p",{className:"text-gray-400 animate-pulse",children:"Initializing Camera..."}),e.jsx("div",{className:"absolute inset-0 border-4 border-dashed border-union-primary opacity-50 m-8 rounded-lg"})]}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Verify Identity"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Please look at the camera to proceed with voting."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{alert("Photo captured! Redirecting to ballot..."),n(!1)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 shadow-lg",children:"ðŸ”´ Capture & Vote"})]})]})}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-union-primary to-blue-800 rounded-2xl shadow-xl p-8 mb-8 text-white relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Hello, ",a.name,"! ðŸ‘‹"]}),e.jsx("p",{className:"text-blue-100 mb-6 max-w-2xl",children:"Welcome to your union portal. Access your I-Card, check updates, and participate in union elections from here."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(r,{href:route("profile.edit"),className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg hover:bg-white/30 transition flex items-center",children:e.jsx("span",{children:"âš™ï¸ Account Settings"})}),e.jsxs("span",{className:"bg-white text-union-primary font-bold px-4 py-2 rounded-lg shadow-sm flex items-center border border-gray-200",children:[e.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${t?.status==="active"?"bg-green-500":"bg-yellow-500"}`}),"Status: ",t?.status?.toUpperCase()||"UNKNOWN"]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 right-20 w-32 h-32 bg-blue-500/20 rounded-full blur-2xl"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"ðŸ“¢ Notifications"})}),e.jsx("div",{className:"space-y-4",children:l&&l.length>0?l.map(s=>e.jsxs("div",{className:"flex gap-4 p-4 rounded-xl bg-gray-50 hover:bg-blue-50 transition border border-gray-100",children:[e.jsx("div",{className:"flex-shrink-0 text-2xl",children:"ðŸ“£"}),e.jsxs("div",{children:[e.jsx(r,{href:route("posts.show",s.slug),children:e.jsx("h4",{className:"font-semibold text-gray-900 hover:text-blue-600 transition",children:s.title})}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.excerpt||s.content?.replace(/<[^>]+>/g,"")}),e.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:new Date(s.created_at).toLocaleDateString()})]})]},s.id)):e.jsx("div",{className:"text-center py-8 text-gray-400",children:e.jsx("p",{children:"No new notifications"})})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"ðŸ“° Latest News"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i&&i.length>0?i.map(s=>e.jsxs("div",{className:"group cursor-pointer",children:[e.jsx("div",{className:"aspect-video bg-gray-200 rounded-xl mb-3 overflow-hidden",children:e.jsx("img",{src:s.featured_image?`/storage/${s.featured_image}`:"https://via.placeholder.com/400x200",alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"})}),e.jsx(r,{href:route("posts.show",s.slug),children:e.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-union-primary transition",children:s.title})}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:s.excerpt})]},s.id)):e.jsx("div",{className:"col-span-2 text-center py-8 text-gray-400",children:e.jsx("p",{children:"No recent news articles"})})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-red-50 rounded-bl-full -mr-4 -mt-4 transition group-hover:bg-red-100"}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 relative z-10",children:"ðŸ†” Digital I-Card"}),e.jsxs("div",{className:"aspect-[1.58/1] bg-white rounded-xl mb-4 relative overflow-hidden shadow-lg border border-gray-200",children:[e.jsxs("div",{className:"bg-red-600 h-1/4 w-full flex items-center justify-between px-3",children:[e.jsxs("div",{className:"text-white text-[10px] font-bold leading-tight",children:["J&K EMPLOYEES",e.jsx("br",{}),"ASSOCIATION"]}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-xs font-bold text-red-600",children:"LOGO"})]}),e.jsxs("div",{className:"p-3 flex gap-3 h-3/4",children:[e.jsx("div",{className:"w-20 h-24 bg-gray-200 border border-gray-300 flex-shrink-0",children:t?.photo_path?e.jsx("img",{src:`/storage/${t.photo_path}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"Photo"})}),e.jsxs("div",{className:"space-y-1 text-[10px] w-full",children:[e.jsx("div",{className:"font-bold text-sm text-gray-900 leading-tight",children:t?.name||a.name}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-1",children:[e.jsx("span",{className:"text-gray-500",children:"Desig:"}),e.jsx("span",{className:"font-semibold truncate",title:t?.active_commission_role||t?.designation,children:t?.active_commission_role||t?.designation||"Member"}),e.jsx("span",{className:"text-gray-500",children:"ID:"}),e.jsx("span",{className:"font-semibold text-red-600 truncate",children:t?.membership_id||"PENDING"}),e.jsx("span",{className:"text-gray-500",children:"Dist:"}),e.jsx("span",{className:"font-semibold truncate",children:t?.tehsil?.district?.name||"N/A"})]})]})]}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center rounded-xl z-20",children:e.jsx("a",{href:`/members/${t?.id}/icard/download`,target:"_blank",className:"bg-white text-gray-900 px-4 py-2 rounded-full font-bold shadow-lg transform hover:scale-105 transition",children:"Download PDF"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Card No:"}),e.jsx("span",{className:"font-mono font-bold text-gray-800",children:t?.membership_id||"N/A"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"tehsil:"}),e.jsx("span",{className:"font-medium text-gray-800",children:t?.tehsil?.name||"N/A"})]})]}),e.jsx("a",{href:`/members/${t?.id}/icard/download`,className:"block w-full text-center bg-gray-900 text-white font-semibold py-3 rounded-xl mt-6 hover:bg-gray-800 transition shadow-lg",children:"Download I-Card"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 rounded-2xl shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ—³ï¸"}),e.jsx("h3",{className:"text-lg font-bold",children:"Active Elections"})]}),e.jsxs("div",{className:"space-y-4",children:[new URLSearchParams(window.location.search).get("vote_cast")==="1"&&e.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Success! "}),e.jsx("span",{className:"block sm:inline",children:"You have casted your vote thank u."})]}),d&&d.length>0?d.map(s=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[e.jsx("h4",{className:"font-bold text-white mb-1",children:s.title}),e.jsxs("p",{className:"text-xs text-indigo-100 mb-3",children:["Ends: ",new Date(s.voting_end).toLocaleDateString()]}),s.has_voted?e.jsxs("button",{disabled:!0,className:"w-full bg-green-500/50 text-white font-bold py-2 rounded-lg cursor-not-allowed text-sm flex items-center justify-center gap-2",children:[e.jsx("span",{children:"âœ…"})," Already Voted"]}):e.jsxs(r,{href:route("elections.vote.show",s.id),className:"w-full bg-white text-indigo-600 font-bold py-2 rounded-lg hover:bg-indigo-50 transition text-sm flex items-center justify-center gap-2",children:[e.jsx("span",{children:"ðŸ“¸"})," Vote Now"]})]},s.id)):e.jsx("div",{className:"text-center py-6 bg-white/10 rounded-xl border border-white/5",children:e.jsx("p",{className:"text-sm opacity-80",children:"No active elections"})})]})]})]})]})]})})]})}export{b as default};
