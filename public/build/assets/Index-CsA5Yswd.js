import{a as u,r as d,j as e,H as b,L as f,b as m}from"./app-B6I_m7Lk.js";import{A as j}from"./AuthenticatedLayout-CRyv6Qyz.js";function v({election:r,commission:i,availableMembers:n}){const{auth:c}=u().props,[t,l]=d.useState(""),[a,o]=d.useState("member"),x=s=>{s.preventDefault(),t&&m.post(route("elections.commission.store",r.id),{member_id:t,role:a},{preserveScroll:!0,onSuccess:()=>{l(""),o("member")}})},h=s=>{confirm("Remove this member from the Election Commission?")&&m.delete(route("elections.commission.destroy",[r.id,s]),{preserveScroll:!0})};return e.jsxs(j,{user:c.user,children:[e.jsx(b,{title:`Election Commission - ${r.title}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(f,{href:route("elections.show",r.id),className:"text-red-600 hover:text-red-800 mb-4 inline-block",children:"â† Back to Election"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Election Commission"}),e.jsx("p",{className:"mt-2 text-gray-600",children:r.title})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Commission Members"}),i.length>0?e.jsx("div",{className:"space-y-3",children:i.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white ${s.role==="chief"?"bg-red-600":"bg-amber-500"}`,children:s.member?.name?.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.member?.name}),e.jsx("p",{className:"text-sm text-gray-500 capitalize",children:s.role==="chief"?"ðŸ‘‘ Chief Commissioner":"Member"})]})]}),e.jsx("button",{onClick:()=>h(s.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},s.id))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No commission members yet"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Commission Member"}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Member"}),e.jsxs("select",{value:t,onChange:s=>l(s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"",children:"Choose a member..."}),n.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.tehsil?.name]},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsxs("select",{value:a,onChange:s=>o(s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"chief",children:"Chief Commissioner"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Add to Commission"})]})]})]}),e.jsx("div",{className:"mt-8 bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium",children:"About the Election Commission"}),e.jsx("p",{className:"mt-1",children:"Commission members are responsible for approving or rejecting candidate nominations. The Chief Commissioner has final authority."})]})]})})]})})]})}export{v as default};
