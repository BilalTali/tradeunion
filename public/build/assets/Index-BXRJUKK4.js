import{a as v,r as b,j as e,H as f,L as i}from"./app-BpyjcQp-.js";import{A as j}from"./AuthenticatedLayout-BJjcGNLG.js";function w({committees:t,filters:u}){const{auth:l}=v().props,n=l.user.role,[a,h]=b.useState(u?.status||"all"),o=(()=>{if(l.portfolioLevel)return l.portfolioLevel;const r=n.toLowerCase();return r==="super_admin"||r.includes("state")?"state":r.includes("district")?"district":r.includes("tehsil")?"tehsil":"state"})(),m=r=>({executive:"bg-purple-100 text-purple-800 border-purple-200",election_commission:"bg-blue-100 text-blue-800 border-blue-200",disciplinary:"bg-red-100 text-red-800 border-red-200",finance:"bg-green-100 text-green-800 border-green-200",audit:"bg-yellow-100 text-yellow-800 border-yellow-200",custom:"bg-gray-100 text-gray-800 border-gray-200"})[r]||"bg-gray-100 text-gray-800 border-gray-200",g=r=>({executive:"Executive",election_commission:"Election Commission",disciplinary:"Disciplinary",finance:"Finance",audit:"Audit",custom:"Custom"})[r]||r,p=r=>{const s={state:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),district:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),tehsil:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})};return s[r]||s.state},x=(r,s)=>s==="all"?r:s==="active"?r.filter(c=>c.is_active):s==="inactive"?r.filter(c=>!c.is_active):r,d=x(t.data||[],a);return e.jsxs(j,{children:[e.jsx(f,{title:"Committees"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Committees"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Constitutional bodies for collective decision-making"})]}),(n==="super_admin"||n.includes("admin"))&&e.jsxs(i,{href:route(`${o}.committees.create`),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Committee"]})]}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:["all","active","inactive"].map(r=>e.jsxs("button",{onClick:()=>h(r),className:`${a===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm capitalize transition`,children:[r," (",r==="all"?t.data?.length:x(t.data||[],r).length,")"]},r))})})]}),d&&d.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(r=>e.jsxs(i,{href:route(`${o}.committees.show`,r.id),className:"block bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-lg hover:border-blue-300 transition-all duration-200 overflow-hidden group",children:[e.jsx("div",{className:`h-2 ${r.is_active?"bg-green-500":"bg-gray-300"}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${m(r.type)}`,children:g(r.type)}),!r.is_active&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-600",children:"Inactive"})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition mb-2",children:r.name}),r.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:r.description}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[p(r.level),e.jsxs("span",{className:"font-medium capitalize",children:[r.level," Level"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("span",{children:[r.active_members_count||0," / ",r.max_members," Members"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["Quorum: ",r.quorum_percentage,"% | Threshold: ",r.voting_threshold,"%"]})]}),r.start_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("span",{children:[new Date(r.start_date).toLocaleDateString(),r.end_date&&` - ${new Date(r.end_date).toLocaleDateString()}`]})]})]})]})]},r.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No committees found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a==="all"?"Get started by creating a new committee.":`No ${a} committees available.`}),(n==="super_admin"||n.includes("admin"))&&a==="all"&&e.jsx("div",{className:"mt-6",children:e.jsxs(i,{href:route(`${o}.committees.create`),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Committee"]})})]}),t.links&&t.links.length>3&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:t.links.map((r,s)=>e.jsx(i,{href:r.url||"#",className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${r.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${s===0?"rounded-l-md":""} ${s===t.links.length-1?"rounded-r-md":""} ${r.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:r.label}},s))})})]})})]})}export{w as default};
