import{a as m,j as e,H as c,L as a}from"./app-B6I_m7Lk.js";import{A as x}from"./AuthenticatedLayout-CRyv6Qyz.js";function p({elections:r}){const{auth:o}=m().props,n=o.user.role,i=(()=>{const t=window.location.pathname;return t.includes("/tehsil/election-commissioner/")?"tehsil.ec":t.includes("/district/election-commissioner/")?"district.ec":t.includes("/state/election-commissioner/")?"state.ec":n==="super_admin"?"state":n.includes("district")&&!n.includes("member")?"district":n.includes("tehsil")&&!n.includes("member")?"tehsil":"member"})(),l=t=>({draft:"bg-gray-100 text-gray-800",nominations_open:"bg-blue-100 text-blue-800",nominations_closed:"bg-yellow-100 text-yellow-800",voting_open:"bg-green-100 text-green-800",voting_closed:"bg-orange-100 text-orange-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",d=t=>t.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ");return e.jsxs(x,{children:[e.jsx(c,{title:"Elections"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Elections"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage union elections"})]})}),r.data&&r.data.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.data.map(t=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition overflow-hidden flex flex-col h-full",children:[e.jsx("div",{className:`h-2 ${t.status==="voting_open"?"bg-green-500":t.status==="nominations_open"?"bg-blue-500":"bg-gray-300"}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx(a,{href:route(`${i==="member"&&route().has("member.elections.show")?"member":i}.elections.show`,t.id),className:"text-lg font-bold text-gray-900 flex-1 hover:text-blue-600 transition",children:t.title}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-semibold ${l(t.status)}`,children:d(t.status)})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsxs("span",{className:"font-medium",children:[t.level.charAt(0).toUpperCase()+t.level.slice(1)," Level"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("span",{children:["Voting: ",new Date(t.voting_start).toLocaleDateString("en-IN")]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsx("span",{className:"text-xs text-gray-500",children:t.election_type.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex gap-2",children:[e.jsx(a,{href:route(`${i==="member"?"member":i}.elections.show`,t.id),className:"flex-1 text-center py-2 text-sm text-gray-600 font-medium hover:text-gray-900 border border-gray-200 rounded-lg hover:bg-gray-50 transition",children:"View Details"}),t.status==="nominations_open"&&e.jsx(a,{href:route("elections.nominate.form",t.id),className:"flex-1 text-center py-2 text-sm bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition",children:"File Nomination"}),t.status==="voting_open"&&e.jsx(a,{href:route("elections.vote.show",t.id),className:"flex-1 text-center py-2 text-sm bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition",children:"Cast Vote"}),t.status==="completed"&&e.jsx(a,{href:route(`${i}.results.show`,t.id),className:"flex-1 text-center py-2 text-sm bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition",children:"View Results"})]})]})]},t.id))}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Elections"}),e.jsx("p",{className:"text-gray-600",children:"There are currently no elections available."})]}),r.links&&r.links.length>3&&e.jsx("div",{className:"mt-8 flex justify-center gap-2",children:r.links.map((t,s)=>e.jsx(a,{href:t.url||"#",className:`px-4 py-2 rounded-lg font-medium ${t.active?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"} ${!t.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},s))})]})})]})}export{p as default};
