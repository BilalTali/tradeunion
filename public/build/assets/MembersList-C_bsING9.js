import{r as n,j as e,H as f,b as r}from"./app-BpyjcQp-.js";import{A as N}from"./AuthenticatedLayout-BJjcGNLG.js";function _({auth:m,election:a,members:s,filters:i,tehsils:u}){const[d,x]=n.useState(i.search||""),[c,o]=n.useState(i.tehsil_id||""),[p,h]=n.useState(i.eligibility||""),l=(()=>{const t=window.location.pathname;return t.includes("/election-commissioner/")||t.includes("/chief-election-commissioner/")?`${a.level}.ec`:a.level})(),g=()=>{r.get(route(`${l}.eligible-members`,a.id),{search:d,tehsil_id:c,eligibility:p},{preserveState:!0,preserveScroll:!0})},y=()=>{x(""),o(""),h(""),r.get(route(`${l}.eligible-members`,a.id))};return e.jsxs(N,{user:m.user,header:e.jsxs("div",{children:[e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Eligible Members - ",a.title]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Total: ",s.total," members"]})]}),children:[e.jsx(f,{title:"Eligible Members"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsx("input",{type:"text",value:d,onChange:t=>x(t.target.value),placeholder:"Name or Membership ID",className:"w-full px-3 py-2 border border-gray-300 rounded-md",onKeyDown:t=>t.key==="Enter"&&g()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"tehsil"}),e.jsxs("select",{value:c,onChange:t=>o(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"All tehsils"}),u.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Eligibility"}),e.jsxs("select",{value:p,onChange:t=>h(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"All Members"}),e.jsx("option",{value:"vote",children:"Can Vote Only"}),e.jsx("option",{value:"contest",children:"Can Contest Only"}),e.jsx("option",{value:"both",children:"Can Vote & Contest"}),e.jsx("option",{value:"neither",children:"Neither"})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Apply"}),e.jsx("button",{onClick:y,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Reset"})]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S.No"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Photo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Membership ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tehsil"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service Years"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Union Years"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Star Grade"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Designation"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Can Vote"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Can Contest"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"No members found matching your criteria"})}):s.data.map((t,j)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:(s.current_page-1)*50+j+1}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.photo_path?e.jsx("img",{src:`/storage/${t.photo_path}`,alt:t.name,className:"h-10 w-10 rounded-full object-cover"}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 text-xs",children:t.name?.charAt(0)||"?"})})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:t.membership_id}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:t.tehsil}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:t.age||"N/A"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:t.service_years||"N/A"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:t.union_years||"N/A"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:t.star_grade?e.jsx("span",{children:"⭐".repeat(t.star_grade)}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:e.jsx("div",{className:"max-w-xs truncate",children:t.designation||"N/A"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:t.can_vote?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"✓ Yes"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"✗ No"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:t.can_contest?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"✓ Yes"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"✗ No"})})]},t.id))})]})}),s.last_page>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>r.get(s.prev_page_url),disabled:!s.prev_page_url,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>r.get(s.next_page_url),disabled:!s.next_page_url,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(s.current_page-1)*50+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(s.current_page*50,s.total)})," ","of ",e.jsx("span",{className:"font-medium",children:s.total})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>r.get(s.prev_page_url),disabled:!s.prev_page_url,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:["Page ",s.current_page," of ",s.last_page]}),e.jsx("button",{onClick:()=>r.get(s.next_page_url),disabled:!s.next_page_url,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),e.jsx("div",{className:"flex justify-start",children:e.jsx("a",{href:route(`${l}.eligibility-criteria.index`,a.id),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"← Back to Criteria"})})]})})]})}export{_ as default};
