import{a as n,j as e,H as o,L as c}from"./app-DCQvZVWn.js";import{A as m}from"./AuthenticatedLayout-DgkPm0uQ.js";function p({election:s,resultsByPosition:r,rolePrefix:d}){const{auth:x}=n().props;return e.jsxs(m,{children:[e.jsx(o,{title:`Results - ${s.title}`}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.title}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Committee: ",s.committee?.name]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Eligible Voters"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:s.eligible_voters_count||0})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Total Votes Cast"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:s.total_votes_cast||0})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"Voter Turnout"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:s.eligible_voters_count>0?`${(s.total_votes_cast/s.eligible_voters_count*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-orange-600 mb-1",children:"Candidates"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:Object.values(r||{}).reduce((l,a)=>l+a.length,0)})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("a",{href:route(`${d}.committee-elections.results.pdf`,s.id),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold transition shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Results (PDF)"]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Results by Position"}),r&&Object.keys(r).length>0?Object.entries(r).map(([l,a])=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-blue-600 px-6 py-4",children:e.jsx("h3",{className:"text-xl font-bold text-white",children:l.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")})}),e.jsx("div",{className:"divide-y divide-gray-200",children:a.map((t,i)=>e.jsxs("div",{className:`flex items-center justify-between p-6 ${i===0?"bg-green-50 border-l-4 border-green-500":""}`,children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i===0&&e.jsx("span",{className:"text-4xl",children:"ðŸ†"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:t.member?.name||"Unknown"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Member ID: ",t.member?.membership_id||"N/A"]}),t.nomination_statement&&e.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:t.nomination_statement})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.vote_count||0}),e.jsx("p",{className:"text-sm text-gray-600",children:s.total_votes_cast>0?`${(t.vote_count/s.total_votes_cast*100).toFixed(1)}%`:"0%"})]})]},t.id))}),a[0]&&e.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:e.jsxs("a",{href:route(`${d}.committee-elections.certificate`,[s.id,a[0].id]),className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Download Winner Certificate"]})})]},l)):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Results Available"}),e.jsx("p",{className:"text-gray-600",children:"Results will appear here once the election is completed."})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(c,{href:route(`${d}.committee-elections.index`),className:"inline-flex items-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-semibold transition",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Elections"]})})]})})]})}export{p as default};
