import{u as h,j as e,H as p,L as n}from"./app-BpyjcQp-.js";import{A as g}from"./AuthenticatedLayout-BJjcGNLG.js";function v({admin:t,districts:b,tehsils:f,auth:d}){const o=d.user.role,i=o==="super_admin"?"state":o.includes("district")?"district":"tehsil",{data:l,setData:a,put:m,processing:c,errors:r}=h({name:t.name||"",email:t.email||"",phone:t.phone||"",is_active:t.is_active??!0,password:"",password_confirmation:""}),x=s=>{s.preventDefault(),m(route(`${i}.admins.update`,t.id))};return e.jsxs(g,{user:d.user,children:[e.jsx(p,{title:"Edit Admin"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(n,{href:route(`${i}.admins.index`),className:"text-blue-600 hover:text-blue-800 mb-4 inline-block",children:"â† Back to Admins"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Admin"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Update administrator details"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-8",children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:l.name,onChange:s=>a("name",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0}),r.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:l.email,onChange:s=>a("email",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:!0}),r.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"text",value:l.phone,onChange:s=>{const u=s.target.value.replace(/\D/g,"").slice(0,10);a("phone",u)},className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",maxLength:10,pattern:"\\d{10}",title:"Please enter exactly 10 digits"}),r.phone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.photo_path&&e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border border-gray-200",children:e.jsx("img",{src:`/storage/${t.photo_path}`,alt:t.name,className:"w-full h-full object-cover"})}),e.jsx("input",{type:"file",onChange:s=>a("photo",s.target.files[0]),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",accept:"image/*"})]}),r.photo&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.photo})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.is_active,onChange:s=>a("is_active",s.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active Admin"})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Role"}),e.jsx("p",{className:"text-sm text-gray-900 capitalize",children:t.role.replace("_"," ")}),t.district&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["District: ",t.district.name]}),t.tehsil&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["tehsil: ",t.tehsil.name]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Leave blank to keep current password"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:l.password,onChange:s=>a("password",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"}),r.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:l.password_confirmation,onChange:s=>a("password_confirmation",s.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx(n,{href:route(`${i}.admins.index`),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"px-8 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors font-medium shadow-sm",children:c?"Updating...":"Update Admin"})]})]})})]})})]})}export{v as default};
