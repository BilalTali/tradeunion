import{r as p,j as e,H as k,u as f}from"./app-BIZQ7C9f.js";import{A}from"./AuthenticatedLayout--UozTgA3.js";import{I as x}from"./InputLabel-Cov8ipHO.js";import{T as h}from"./TextInput-CuFZHMOb.js";import{P as b}from"./PrimaryButton-1ll1e8jj.js";import{D as I}from"./DangerButton-Rox5YitP.js";const j=p.forwardRef(function({className:r="",isFocused:a=!1,...o},c){const n=p.useRef(null);return p.useImperativeHandle(c,()=>({focus:()=>n.current?.focus()})),p.useEffect(()=>{a&&n.current?.focus()},[a]),e.jsx("textarea",{...o,className:"rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 "+r,ref:n})});function $({auth:t,officeProfile:r,heroSlides:a,contents:o}){const[c,n]=p.useState("global");return e.jsxs(A,{user:t.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Homepage Manager (CMS)"}),children:[e.jsx(k,{title:"Homepage Manager"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex",children:[e.jsx(y,{active:c==="global",onClick:()=>n("global"),icon:"ðŸŽ¨",label:"Theme & Identity"}),e.jsx(y,{active:c==="slider",onClick:()=>n("slider"),icon:"ðŸ–¼ï¸",label:"Hero Slider"}),e.jsx(y,{active:c==="sections",onClick:()=>n("sections"),icon:"ðŸ“",label:"Content Sections"})]})})}),e.jsxs("div",{className:"space-y-6",children:[c==="global"&&e.jsx(D,{profile:r}),c==="slider"&&e.jsx(T,{slides:a}),c==="sections"&&e.jsx(M,{contents:o})]})]})})]})}function y({active:t,onClick:r,icon:a,label:o}){return e.jsxs("button",{onClick:r,className:`
                w-1/3 py-4 px-1 text-center border-b-2 font-medium text-sm transition-colors duration-200
                ${t?"border-union-primary text-union-primary bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:[e.jsx("span",{className:"mr-2",children:a}),o]})}function D({profile:t}){const{data:r,setData:a,put:o,processing:c,errors:n,recentlySuccessful:d}=f({primary_color:t?.primary_color||"#dc2626",secondary_color:t?.secondary_color||"#1e40af",font_family:t?.font_family||"sans-serif"}),m=s=>{s.preventDefault(),o(route("state.homepage.theme-update"))};return e.jsxs("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-6 border-b pb-2",children:"Theme Configuration"}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"primary_color",value:"Primary Color (Buttons, Highlights)"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("input",{type:"color",id:"primary_color",value:r.primary_color,onChange:s=>a("primary_color",s.target.value),className:"h-10 w-20 p-1 border rounded"}),e.jsx(h,{value:r.primary_color,onChange:s=>a("primary_color",s.target.value),className:"w-full"})]}),n.primary_color&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:n.primary_color})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"secondary_color",value:"Secondary Color (Accents, Footer)"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("input",{type:"color",id:"secondary_color",value:r.secondary_color,onChange:s=>a("secondary_color",s.target.value),className:"h-10 w-20 p-1 border rounded"}),e.jsx(h,{value:r.secondary_color,onChange:s=>a("secondary_color",s.target.value),className:"w-full"})]}),n.secondary_color&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:n.secondary_color})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(x,{htmlFor:"font_family",value:"Font Family (CSS Name)"}),e.jsxs("select",{id:"font_family",value:r.font_family,onChange:s=>a("font_family",s.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"sans-serif",children:"System Sans-Serif (Default)"}),e.jsx("option",{value:"'Inter', sans-serif",children:"Inter"}),e.jsx("option",{value:"'Roboto', sans-serif",children:"Roboto"}),e.jsx("option",{value:"'Open Sans', sans-serif",children:"Open Sans"}),e.jsx("option",{value:"serif",children:"System Serif"})]})]}),e.jsxs("div",{className:"md:col-span-2 flex items-center gap-4",children:[e.jsx(b,{disabled:c,children:"Save Theme Settings"}),d&&e.jsx("span",{className:"text-green-600 font-bold",children:"Saved!"})]})]}),e.jsxs("div",{className:"mt-10 pt-6 border-t",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Organization Identity"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"To update your Organization Name, Logo, Address, and Contact Details, please manage the Office Profile settings."}),e.jsx("a",{href:route("state.office-profile.edit"),className:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700",children:"Manage Office Profile"})]})]})}function T({slides:t}){const{data:r,setData:a,post:o,processing:c,errors:n,reset:d,recentlySuccessful:m}=f({image:null,images:[],title:"",subtitle:"",button_text:"Learn More",button_link:"/contact"}),s=l=>{l.preventDefault(),o(route("state.homepage.slides.store"),{onSuccess:()=>d()})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Add New Slide(s)"}),e.jsxs("form",{onSubmit:s,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"slide_image",value:"Slide Image(s) (Landscape)"}),e.jsx("input",{type:"file",multiple:!0,id:"slide_image",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:l=>a("images",Array.from(l.target.files)),accept:"image/*",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can select multiple images to upload at once."}),n.image&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:n.image})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{value:"Headline (Applied to all uploaded slides)"}),e.jsx(h,{value:r.title,onChange:l=>a("title",l.target.value),className:"w-full",placeholder:"Empowering Employees..."})]}),e.jsxs("div",{children:[e.jsx(x,{value:"Subtitle (Applied to all)"}),e.jsx(h,{value:r.subtitle,onChange:l=>a("subtitle",l.target.value),className:"w-full",placeholder:"Join the movement..."})]})]}),e.jsx("div",{className:"md:col-span-2 flex justify-end",children:e.jsx(b,{disabled:c,className:"w-full md:w-auto justify-center",children:"Upload Slide(s)"})})]})]}),e.jsxs("div",{className:"bg-white shadow sm:rounded-lg overflow-hidden",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 p-6 border-b",children:"Active Slides"}),t.length===0?e.jsx("p",{className:"p-6 text-center text-gray-500",children:"No slides uploaded yet."}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(l=>e.jsx(O,{slide:l},l.id))})]})]})}function O({slide:t}){const{delete:r,processing:a}=f(),o=()=>{confirm("Are you sure you want to delete this slide?")&&r(route("state.homepage.slides.destroy",t.id))};return e.jsxs("div",{className:"p-6 flex items-center gap-6 group hover:bg-gray-50 transition",children:[e.jsx("div",{className:"w-48 h-28 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:`/storage/${t.image_path}`,alt:"Slide",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900",children:t.title||"(No Title)"}),e.jsx("p",{className:"text-sm text-gray-500",children:t.subtitle}),e.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Button: ",t.button_text||"Default"," â†’ ",t.button_link||"#"]})]}),e.jsx("div",{children:e.jsx(I,{onClick:o,disabled:a,className:"opacity-0 group-hover:opacity-100 transition-opacity",children:"Delete"})})]})}const E={mission_cards:{type:"list",fields:[{key:"icon",label:"Icon (Emoji or Class)",type:"text"},{key:"title",label:"Title",type:"text"},{key:"description",label:"Description",type:"textarea"}]},structure:{type:"list",fields:[{key:"level",label:"Level Name",type:"text"},{key:"description",label:"Role Description",type:"textarea"}]},journey:{type:"list",fields:[{key:"step",label:"Step #",type:"text"},{key:"title",label:"Step Title",type:"text"},{key:"description",label:"Description",type:"textarea"}]},features:{type:"list",fields:[{key:"icon",label:"Icon",type:"text"},{key:"title",label:"Feature Title",type:"text"},{key:"description",label:"Feature Description",type:"textarea"}]},about:{type:"text"}};function M({contents:t}){const r=["mission_cards","about","structure","journey","features"],a={mission_cards:"Mission & Key Pillars (What We Do)",about:"About The Association",structure:"Organizational Structure",journey:"Membership Journey",features:"Digital Features"};return e.jsx("div",{className:"space-y-6",children:r.map(o=>{const c=t[o];return c?e.jsx(F,{contentKey:o,label:a[o],content:c},o):null})})}function F({contentKey:t,label:r,content:a}){const[o,c]=p.useState(!1),n=E[t]||{type:"text"},d=a.content,m=i=>{try{return typeof i=="string"?JSON.parse(i):i}catch{return null}},s=n.type==="list",[l,v]=p.useState(()=>{if(!s)return"raw";const i=m(d);return Array.isArray(i)?"visual":"raw"}),{data:u,setData:g,post:N,processing:w,errors:R,recentlySuccessful:S}=f({title:a.title||"",subtitle:a.subtitle||"",content:s&&l==="visual"?m(d)||[]:d,settings:a.settings||{bg_color:"#ffffff"}});p.useEffect(()=>{const i=m(d);s&&Array.isArray(i)&&g("content",i)},[]);const _=()=>{if(l==="visual")g("content",JSON.stringify(u.content,null,4)),v("raw");else{const i=m(u.content);Array.isArray(i)?(g("content",i),v("visual")):alert("Current content is not a valid list. Cannot switch to Visual Editor.")}},C=i=>{i.preventDefault(),N(route("state.homepage.content-update",t),{preserveScroll:!0})};return e.jsxs("div",{className:"bg-white shadow sm:rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>c(!o),className:"w-full flex justify-between items-center px-6 py-4 bg-gray-50 hover:bg-gray-100 transition",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-bold text-lg text-gray-800",children:r}),e.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["(",t,")"]})]}),e.jsx("span",{className:"text-gray-500",children:o?"â–¼":"â–¶"})]}),o&&e.jsx("div",{className:"p-6 border-t border-gray-100",children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(x,{value:"Section Title"}),e.jsx(h,{className:"w-full mt-1",value:u.title,onChange:i=>g("title",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(x,{value:"Section Subtitle"}),e.jsx(h,{className:"w-full mt-1",value:u.subtitle,onChange:i=>g("subtitle",i.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(x,{value:"Background Color"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("input",{type:"color",value:u.settings?.bg_color||"#ffffff",onChange:i=>g("settings",{...u.settings,bg_color:i.target.value}),className:"h-10 w-20 p-1 border rounded"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Pick a background color for this section strip."})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx(x,{value:l==="visual"?"List Items":"Content Text / JSON"}),s&&e.jsx("button",{type:"button",onClick:_,className:"text-xs text-indigo-600 hover:text-indigo-800 underline",children:l==="visual"?"Switch to Raw (Text/JSON)":"Switch to Visual Editor"})]}),l==="visual"?e.jsx(L,{items:Array.isArray(u.content)?u.content:[],onChange:i=>g("content",i),fields:n.fields}):e.jsx(j,{className:"w-full h-32 font-mono text-sm",value:typeof u.content=="string"?u.content:JSON.stringify(u.content,null,4),onChange:i=>g("content",i.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(b,{disabled:w,children:"Save Changes"}),S&&e.jsx("span",{className:"text-green-600 font-bold self-center",children:"Saved!"})]})]})})]})}function L({items:t,onChange:r,fields:a}){const o=()=>{const d={};a.forEach(m=>d[m.key]=""),r([...t,d])},c=d=>{const m=[...t];m.splice(d,1),r(m)},n=(d,m,s)=>{const l=[...t];l[d]={...l[d],[m]:s},r(l)};return e.jsxs("div",{className:"space-y-4",children:[t.map((d,m)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 relative group",children:[e.jsx("button",{type:"button",onClick:()=>c(m),className:"absolute top-2 right-2 text-red-500 hover:text-red-700 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove Item",children:"âœ•"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(s=>e.jsxs("div",{className:s.type==="textarea"?"md:col-span-2":"",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:s.label}),s.type==="textarea"?e.jsx(j,{className:"w-full text-sm",value:d[s.key]||"",onChange:l=>n(m,s.key,l.target.value),rows:"2"}):e.jsx(h,{className:"w-full text-sm",value:d[s.key]||"",onChange:l=>n(m,s.key,l.target.value)})]},s.key))})]},m)),e.jsx("button",{type:"button",onClick:o,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-gray-400 hover:text-gray-600 font-bold transition-colors",children:"+ Add New Item"})]})}export{$ as default};
