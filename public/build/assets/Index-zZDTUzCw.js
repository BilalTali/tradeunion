import{a as m,j as e,H as x,L as r}from"./app-BIZQ7C9f.js";import{A as u}from"./AuthenticatedLayout--UozTgA3.js";function b({elections:a}){const{auth:n}=m().props,s=n.user.role,i=s==="super_admin"?"state":s.includes("district")&&!s.includes("member")?"district":s.includes("tehsil")&&!s.includes("member")?"tehsil":"state",l=t=>({draft:"bg-gray-100 text-gray-800",nominations_open:"bg-blue-100 text-blue-800",nominations_closed:"bg-yellow-100 text-yellow-800",voting_open:"bg-green-100 text-green-800",voting_closed:"bg-orange-100 text-orange-800",completed:"bg-purple-100 text-purple-800"})[t]||"bg-gray-100 text-gray-800",d=t=>t.split("_").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),c=t=>({leadership:"Leadership Election",membership:"Membership Election",custom:"Custom Election"})[t]||t;return e.jsxs(u,{children:[e.jsx(x,{title:"Committee Elections"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Committee Elections"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage committee elections"})]}),(s==="super_admin"||s.includes("admin"))&&e.jsxs(r,{href:route(`${i}.committee-elections.create`),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Election"]})]}),a.data&&a.data.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.data.map(t=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition overflow-hidden flex flex-col h-full",children:[e.jsx("div",{className:`h-2 ${t.status==="voting_open"?"bg-green-500":t.status==="nominations_open"?"bg-blue-500":"bg-gray-300"}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx(r,{href:route("committee-elections.show",t.id),className:"text-lg font-bold text-gray-900 flex-1 hover:text-blue-600 transition",children:t.title}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-semibold ${l(t.status)}`,children:d(t.status)})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"font-medium",children:t.committee?.name||"Committee"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("span",{children:["Voting: ",new Date(t.voting_start).toLocaleDateString("en-IN")]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsx("span",{className:"text-xs text-gray-500",children:c(t.election_type)})}),t.eligible_voters_count>0&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),e.jsxs("span",{className:"text-xs",children:[t.eligible_voters_count," Eligible Voters"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex gap-2",children:[e.jsx(r,{href:route("committee-elections.show",t.id),className:"flex-1 text-center py-2 text-sm text-gray-600 font-medium hover:text-gray-900 border border-gray-200 rounded-lg hover:bg-gray-50 transition",children:"View Details"}),t.status==="nominations_open"&&e.jsx(r,{href:route("committee-elections.nominate.form",t.id),className:"flex-1 text-center py-2 text-sm bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition",children:"File Nomination"}),t.status==="voting_open"&&e.jsx(r,{href:route("committee-elections.vote.show",t.id),className:"flex-1 text-center py-2 text-sm bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition",children:"Cast Vote"}),t.status==="completed"&&e.jsx(r,{href:route(`${i}.committee-elections.results`,t.id),className:"flex-1 text-center py-2 text-sm bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition",children:"View Results"})]})]})]},t.id))}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Committee Elections"}),e.jsx("p",{className:"text-gray-600",children:"There are currently no committee elections available."})]}),a.links&&a.links.length>3&&e.jsx("div",{className:"mt-8 flex justify-center gap-2",children:a.links.map((t,o)=>e.jsx(r,{href:t.url||"#",className:`px-4 py-2 rounded-lg font-medium ${t.active?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"} ${!t.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},o))})]})})]})}export{b as default};
